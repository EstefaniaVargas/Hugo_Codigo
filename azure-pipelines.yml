trigger:

- master

pool:
  vmImage: 'windows-latest'

steps:
- task: HugoTask@1
  inputs:
    source: 
    destination: '$(System.DefaultWorkingDirectory)/public'

- task: PublishPipelineArtifact@1
  inputs:
    targetPath: '$(System.DefaultWorkingDirectory)/public'
    publishLocation: 'pipeline'

- task: GitHubPagesPublish@1
  inputs:
    docPath: '$(System.DefaultWorkingDirectory)\Documentation\site\*'
    githubusername: 'EstefaniaVargas'
    githubemail: 'vargasclavijoestefania@gmail.com'
    githubaccesstoken: '$(token_hugo)'
    repositoryname: 'EstefaniaVargas.github.io'
    branchname: 'master'
    commitmessage: 'Automated Release $(Release.ReleaseId)'